{"version":3,"sources":["components/header.jsx","utils.js","components/restaurant.jsx","components/select.jsx","components/filter.jsx","components/liste.jsx","components/descriptionModal.jsx","components/noteStars.jsx","components/avisModal.jsx","components/ajoutModal.jsx","components/container.jsx","App.js","serviceWorker.js","index.js"],"names":["Header","react_default","a","createElement","style","textAlign","marginTop","marginBottom","className","marginLeft","alt","src","dessinNote","note","stars","heigth","width","key","i","Math","floor","push","bounce","ancientMarker","marker","setAnimation","window","google","maps","Animation","BOUNCE","Restaurant","state","_this$props","this","props","restaurant","restaurantClicked","onClick","onOpenRating","refs","resto","scrollIntoView","behavior","block","ref","styles","div","restaurantName","Blink","adress","address","averageStars","hr","Component","blink","keyframes","_templateObject","styled","_templateObject2","marginRight","backgroundColor","fontWeight","cursor","Select","_ref","label","name","options","value","onChange","display","margin","htmlFor","map","option","index","Filter","min","max","components_select","padding","Liste","range","handleChange","e","Object","objectSpread","_this","target","setState","restaurants","bounds","console","log","latMax","pa","h","latMin","g","longMax","ka","longMin","filter","getPosition","lng","lat","_this2","geolocRestaurants","keys","length","filterGeoloc","filteredRestaurants","others","forEach","setVisible","findIndex","restos","scrollTop","h5","p","components_restaurant","color","overflow","height","noteMoyenne","avis","comment","DescriptionModal","show","onHide","Modal","closeButton","Title","Body","concat","long","ratings","rating","Fragment","auteur","Footer","Button","variant","NoteStars","onStarClick","starsArray","_loop","img","AvisModal","onRate","disabled","rows","noteStars","id","AjoutModal","onAjout","Container","showDescription","showAvis","showAjout","placesAPI","request","location","center","radius","type","service","places","PlacesService","nearbySearch","results","status","toConsumableArray","result","vicinity","geometry","getDetails","placeId","place_id","place","PlacesServiceStatus","OK","reviews","review","text","author_name","placerMarker","position","LatLng","latLng","Marker","icon","addListener","ajoutMarkerClick","event","handleAjoutListe","_","capitalize","handleHideModals","handleChangeAjout","handleHideAjout","setMap","handleClick","handleOpenRating","handleStarClick","noteSaisie","handleChangeComment","handleRating","Map","zoom","geolocalisation","getBounds","_this3","infoWindow","InfoWindow","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","animation","DROP","open","setCenter","handleLocationError","getCenter","browserHasGeolocation","pos","setPosition","setContent","totalNotes","nombreNotes","Number","round","_this$state","orderBy","containerStyle","divMap","mapStyle","liste","descriptionModal","avisModal","ajoutModal","borderRadius","flexDirection","maxWidth","border","App","header","container","Boolean","hostname","match","ReactDOM","render","src_App","document","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.1946f626.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Header = () => {\r\n  return (\r\n    <h1\r\n      style={{ textAlign: \"center\", marginTop: 20, marginBottom: 20 }}\r\n      className=\"display-3 center\"\r\n    >\r\n      Avosavis\r\n      <img style={{ marginLeft: 7 }} alt=\"iconChef\" src=\"icons/chef.png\" />\r\n    </h1>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nexport function dessinNote(note) {\r\n  let stars = [];\r\n  const style = { heigth: 30, width: 30 };\r\n  if (note === 0)\r\n    return (\r\n      <img style={style} src=\"icons/star-empty.png\" alt=\"starsEmpty\" key={0} />\r\n    );\r\n  for (let i = 0; i < Math.floor(note); i++) {\r\n    stars.push(\r\n      <img style={style} src=\"icons/star.png\" alt=\"stars\" key={i + 1} />\r\n    );\r\n  }\r\n  if (note - Math.floor(note) > 0.1) {\r\n    stars.push(\r\n      <img\r\n        style={style}\r\n        src=\"icons/star-half-empty.png\"\r\n        alt=\"starsHalf\"\r\n        key={0}\r\n      />\r\n    );\r\n  }\r\n  return stars;\r\n}\r\n\r\nexport function bounce(ancientMarker, marker) {\r\n  // supprime le bounce au dernier\r\n  if (ancientMarker) ancientMarker.setAnimation(null);\r\n  // ajout bounce\r\n  marker.setAnimation(window.google.maps.Animation.BOUNCE);\r\n}\r\n","import React, { Component } from \"react\";\r\nimport styled, { keyframes } from \"styled-components\";\r\n\r\nimport { dessinNote } from \"./../utils\";\r\n\r\nclass Restaurant extends Component {\r\n  state = {};\r\n  render() {\r\n    const { restaurant, restaurantClicked, onClick, onOpenRating } = this.props;\r\n    if (this.refs.resto && restaurant.marker === restaurantClicked.marker)\r\n      this.refs.resto.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\r\n\r\n    return (\r\n      <div ref=\"resto\" style={styles.div}>\r\n        <div onClick={() => onClick(restaurant)} style={styles.restaurantName}>\r\n          {restaurant.marker &&\r\n          restaurant.marker === restaurantClicked.marker ? (\r\n            <Blink>{restaurant.restaurantName}</Blink>\r\n          ) : (\r\n            restaurant.restaurantName\r\n          )}\r\n        </div>\r\n        <p style={styles.adress}>{restaurant.address}</p>\r\n        <p style={styles.stars}>{dessinNote(restaurant.averageStars)}</p>\r\n        <button\r\n          onClick={() => onOpenRating(restaurant)}\r\n          className=\"btn btn-success btn-sm\"\r\n        >\r\n          Ajouter un avis\r\n        </button>\r\n        <hr style={styles.hr} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst blink = keyframes`\r\n  0%{opacity: 1;}\r\n  50%{opacity: 0;}\r\n  100%{opacity: 1;}\r\n`;\r\n\r\nconst Blink = styled.div`\r\n  animation: ${blink} 1.5s infinite;\r\n`;\r\n\r\nconst styles = {\r\n  div: { marginRight: 5 },\r\n  hr: {\r\n    backgroundColor: \"ghostwhite\",\r\n    marginLeft: 0,\r\n    marginRight: 5,\r\n    marginTop: 8\r\n  },\r\n  restaurantName: {\r\n    marginBottom: 0,\r\n    fontWeight: \"bold\",\r\n    cursor: \"pointer\"\r\n  },\r\n  adress: {\r\n    marginBottom: 0\r\n  },\r\n  stars: {\r\n    marginBottom: 8\r\n  }\r\n};\r\n\r\nexport default Restaurant;\r\n","import React from \"react\";\r\n\r\nconst Select = ({ label, name, options, value, onChange }) => {\r\n  return (\r\n    <div className=\"form-group\" style={{ display: \"inline-block\", margin: 5 }}>\r\n      <label htmlFor={name}>{label}</label>\r\n      <select\r\n        value={value}\r\n        onChange={onChange}\r\n        className=\"form-control-sm\"\r\n        name={name}\r\n      >\r\n        {options.map((option, index) => (\r\n          <option value={option} key={index}>\r\n            {option}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Select;\r\n","import React from \"react\";\r\nimport { dessinNote } from \"./../utils\";\r\nimport Select from \"./select\";\r\n\r\nconst Filter = ({ min, max, onChange }) => {\r\n  const options = [0, 1, 2, 3, 4, 5];\r\n  return (\r\n    <div className=\"container\" style={{ marginBottom: 10 }}>\r\n      De\r\n      <Select options={options} value={min} name=\"min\" onChange={onChange} />\r\n      à\r\n      <Select options={options} value={max} name=\"max\" onChange={onChange} />\r\n      <span style={{ marginLeft: 3 }}>{dessinNote(1)}</span>\r\n      {min > max && (\r\n        <div\r\n          style={{ padding: 3, textAlign: \"center\" }}\r\n          className=\"alert alert-danger\"\r\n        >\r\n          <strong>Filtre invalide</strong>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React, { Component } from \"react\";\r\nimport Restaurant from \"./restaurant\";\r\nimport Filter from \"./filter\";\r\n\r\nclass Liste extends Component {\r\n  state = { range: { min: 0, max: 5 } };\r\n  filterGeoloc() {\r\n    const { restaurants, bounds } = this.props;\r\n    console.log(bounds);\r\n\r\n    const latMax = bounds.pa.h;\r\n    const latMin = bounds.pa.g;\r\n    const longMax = bounds.ka.h;\r\n    const longMin = bounds.ka.g;\r\n    const geolocRestaurants = restaurants.filter(\r\n      restaurant =>\r\n        restaurant.marker.getPosition().lng() < longMax &&\r\n        restaurant.marker.getPosition().lng() > longMin &&\r\n        restaurant.marker.getPosition().lat() < latMax &&\r\n        restaurant.marker.getPosition().lat() > latMin\r\n    );\r\n\r\n    return geolocRestaurants;\r\n  }\r\n  handleChange = e => {\r\n    const range = { ...this.state.range };\r\n    range[e.target.name] = e.target.value;\r\n    this.setState({ range });\r\n  };\r\n  render() {\r\n    const geolocRestaurants =\r\n      Object.keys(this.props.bounds).length > 0\r\n        ? this.filterGeoloc()\r\n        : this.props.restaurants;\r\n    const filteredRestaurants = geolocRestaurants.filter(\r\n      restaurant =>\r\n        restaurant.averageStars >= this.state.range.min &&\r\n        restaurant.averageStars <= this.state.range.max\r\n    );\r\n    const others = geolocRestaurants.filter(\r\n      restaurant =>\r\n        restaurant.averageStars < this.state.range.min ||\r\n        restaurant.averageStars > this.state.range.max\r\n    );\r\n    filteredRestaurants.forEach(restaurant =>\r\n      restaurant.marker.setVisible(true)\r\n    );\r\n    others.forEach(restaurant => restaurant.marker.setVisible(false));\r\n    const index = filteredRestaurants.findIndex(\r\n      restaurant => restaurant.marker === this.props.restaurantClicked.marker\r\n    );\r\n    if (this.refs.restos && index === -1) this.refs.restos.scrollTop = 0;\r\n    return (\r\n      <div style={styles.div}>\r\n        <h5 style={styles.h5}>Liste de restaurant</h5>\r\n        <p style={styles.p}>Filtrer selon les notes :</p>\r\n        <Filter\r\n          onChange={this.handleChange}\r\n          min={this.state.range.min}\r\n          max={this.state.range.max}\r\n        />\r\n        <hr style={styles.hr} />\r\n        <div ref=\"restos\" style={styles.restaurants}>\r\n          {filteredRestaurants.map((restaurant, index) => (\r\n            <Restaurant\r\n              key={index}\r\n              restaurant={restaurant}\r\n              restaurantClicked={this.props.restaurantClicked}\r\n              onClick={this.props.onClick}\r\n              onOpenRating={this.props.onOpenRating}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = {\r\n  div: { width: \"25%\", textAlign: \"left\" },\r\n  h5: { color: \"ghostwhite\", textAlign: \"center\", marginTop: 10 },\r\n  p: { color: \"ghostwhite\", marginLeft: 10, marginBottom: 5 },\r\n  hr: { backgroundColor: \"ghostwhite\", marginLeft: 6, marginTop: 5 },\r\n  restaurants: {\r\n    color: \"ghostwhite\",\r\n    marginLeft: 8,\r\n    overflow: \"auto\",\r\n    height: 450\r\n  }\r\n};\r\n\r\nexport default Liste;\r\n","import React from \"react\";\r\nimport { Button, Modal } from \"react-bootstrap/\";\r\nimport { dessinNote } from \"./../utils\";\r\n\r\nconst DescriptionModal = ({ restaurant, show, onHide, onOpenRating }) => {\r\n  return (\r\n    <Modal show={show} onHide={onHide}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>\r\n          Avis sur le restaurant {restaurant.restaurantName}\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <div>\r\n          <p>Adresse : {restaurant.address}</p>\r\n          <img\r\n            alt=\"streetView\"\r\n            src={`https://maps.googleapis.com/maps/api/streetview?size=468x300&location=${\r\n              restaurant.lat\r\n            },${\r\n              restaurant.long\r\n            }&heading=151.78&pitch=-0.76&key=AIzaSyBf4GOhxsge_3kuAKHKDDiWLVEbl6t-1dw`}\r\n          />\r\n          <p style={styles.noteMoyenne}>\r\n            Note Moyenne :{\" \"}\r\n            {!restaurant.averageStars\r\n              ? \"Aucune note actuellement\"\r\n              : dessinNote(restaurant.averageStars)}\r\n          </p>\r\n          <div>\r\n            <p style={styles.avis}>\r\n              {restaurant.ratings && restaurant.ratings.length > 0\r\n                ? \"Voici les derniers avis postés : \"\r\n                : \"Aucun avis posté\"}\r\n            </p>\r\n            {restaurant.ratings &&\r\n              restaurant.ratings.map((rating, index) => (\r\n                <React.Fragment key={index}>\r\n                  <p style={styles.note}>{dessinNote(rating.stars)}</p>\r\n                  <p style={styles.comment}>{rating.comment}</p>\r\n                  <p>Auteur : {rating.auteur}</p>\r\n                  {index !== restaurant.ratings.length - 1 && (\r\n                    <hr style={styles.hr} />\r\n                  )}\r\n                </React.Fragment>\r\n              ))}\r\n          </div>\r\n        </div>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"success\" onClick={() => onOpenRating(restaurant)}>\r\n          Ajouter un avis\r\n        </Button>\r\n        <Button variant=\"danger\" onClick={onHide}>\r\n          Fermer\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  noteMoyenne: { marginTop: 10, marginBottom: 10 },\r\n  note: { marginBottom: 3 },\r\n  avis: { marginBottom: 5 },\r\n  comment: { marginBottom: 3 },\r\n  hr: { marginTop: 5, marginBottom: 5 }\r\n};\r\n\r\nexport default DescriptionModal;\r\n","import React from \"react\";\r\n\r\nconst NoteStars = ({ onStarClick, stars }) => {\r\n  let starsArray = [];\r\n  for (let index = 1; index < 6; index++) {\r\n    const img = (\r\n      <img\r\n        style={{ width: 35, height: 35 }}\r\n        key={index}\r\n        alt=\"stars\"\r\n        src={stars < index ? \"icons/star-empty.png\" : \"icons/star.png\"}\r\n        onClick={() => onStarClick(index)}\r\n      />\r\n    );\r\n    starsArray.push(img);\r\n  }\r\n  return <div style={{ marginTop: 8 }}>{starsArray}</div>;\r\n};\r\n\r\nexport default NoteStars;\r\n","import React from \"react\";\r\nimport { Button, Modal } from \"react-bootstrap/\";\r\nimport { dessinNote } from \"./../utils\";\r\nimport NoteStars from \"./noteStars\";\r\n\r\nconst AvisModal = ({\r\n  restaurant,\r\n  show,\r\n  onHide,\r\n  onStarClick,\r\n  rating,\r\n  onRate,\r\n  onChange\r\n}) => {\r\n  const disabled = rating.auteur !== \"\" && rating.comment !== \"\" ? false : true;\r\n  return (\r\n    <Modal show={show} onHide={onHide}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>\r\n          Ajouter un avis sur le restaurant {restaurant.restaurantName}\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <div>\r\n          <p>Adresse : {restaurant.address}</p>\r\n          <p style={styles.noteMoyenne}>\r\n            Note Moyenne actuelle :{\" \"}\r\n            {!restaurant.averageStars\r\n              ? \"Aucune note\"\r\n              : dessinNote(restaurant.averageStars)}\r\n          </p>\r\n          <label>Entrez votre avis et votre note :</label>\r\n          <textarea\r\n            onChange={onChange}\r\n            name=\"comment\"\r\n            value={rating.comment}\r\n            className=\"form-control\"\r\n            rows=\"3\"\r\n          />\r\n          <NoteStars onStarClick={onStarClick} stars={rating.stars} />\r\n          <label htmlFor=\"auteur\">Entrez votre nom :</label>\r\n          <input\r\n            onChange={onChange}\r\n            name=\"auteur\"\r\n            value={rating.auteur}\r\n            className=\"form-control\"\r\n            id=\"auteur\"\r\n          />\r\n        </div>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"success\" disabled={disabled} onClick={onRate}>\r\n          Valider l'avis\r\n        </Button>\r\n        <Button variant=\"danger\" onClick={onHide}>\r\n          Annuler\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  noteMoyenne: { marginTop: 10, marginBottom: 10 },\r\n  note: { marginBottom: 3 },\r\n  avis: { marginBottom: 5 },\r\n  comment: { marginBottom: 3 }\r\n};\r\n\r\nexport default AvisModal;\r\n","import React from \"react\";\r\nimport { Modal, Button } from \"react-bootstrap/\";\r\n\r\nconst AjoutModal = ({ onHide, show, onAjout, restaurant, onChange }) => {\r\n  const disabled =\r\n    restaurant.restaurantName !== \"\" && restaurant.address !== \"\"\r\n      ? false\r\n      : true;\r\n  return (\r\n    <Modal show={show} onHide={onHide}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Ajouter un restaurant</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <div>\r\n          <label htmlFor=\"nomNouveauResto\">\r\n            Entrez le nom de ce restaurant :\r\n          </label>\r\n          <input\r\n            style={{ marginBottom: 15 }}\r\n            className=\"form-control\"\r\n            id=\"nomNouveauResto\"\r\n            value={restaurant.restaurantName}\r\n            onChange={onChange}\r\n            name=\"restaurantName\"\r\n          />\r\n          <label htmlFor=\"adresseNouveauResto\">Entrez l'adresse :</label>\r\n          <input\r\n            className=\"form-control\"\r\n            id=\"adresseNouveauResto\"\r\n            value={restaurant.address}\r\n            onChange={onChange}\r\n            name=\"address\"\r\n          />\r\n        </div>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button\r\n          variant=\"success\"\r\n          disabled={disabled}\r\n          onClick={() => onAjout(restaurant)}\r\n        >\r\n          Ajouter le restaurant\r\n        </Button>\r\n        <Button\r\n          variant=\"success\"\r\n          disabled={disabled}\r\n          onClick={() => onAjout(restaurant, \"showAvis\")}\r\n        >\r\n          Ajouter le restaurant et donner un avis\r\n        </Button>\r\n        <Button variant=\"danger\" onClick={onHide}>\r\n          Annuler\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default AjoutModal;\r\n","import React, { Component } from \"react\";\r\nimport Liste from \"./liste\";\r\nimport restaurants from \"../listeResto.json\";\r\nimport DescriptionModal from \"./descriptionModal\";\r\nimport AvisModal from \"./avisModal\";\r\nimport AjoutModal from \"./ajoutModal\";\r\nimport { bounce } from \"./../utils\";\r\nimport _ from \"lodash\";\r\n\r\nclass Container extends Component {\r\n  state = {\r\n    restaurants: [],\r\n    restaurant: {},\r\n    bounds: {},\r\n    showDescription: false,\r\n    showAvis: false,\r\n    showAjout: false,\r\n    rating: { stars: 0, comment: \"\", auteur: \"\" }\r\n  };\r\n  componentDidMount() {\r\n    const map = new window.google.maps.Map(this.refs.map, {\r\n      center: { lat: 43.3, lng: 5.4 },\r\n      zoom: 16\r\n    });\r\n    this.geolocalisation(map);\r\n    // ajout listenner mouvements carte\r\n    window.google.maps.event.addListener(map, \"bounds_changed\", () => {\r\n      const bounds = map.getBounds();\r\n      this.placesAPI(map);\r\n      this.setState({ bounds });\r\n    });\r\n    // Ajout restaurants liste JSON\r\n    restaurants.forEach(restaurant => {\r\n      const marker = this.placerMarker(restaurant, map);\r\n      restaurant.marker = marker;\r\n      restaurant.averageStars = this.averageStars(restaurant);\r\n    });\r\n    this.ajoutMarkerClick(map);\r\n    this.setState({ restaurants, map });\r\n  }\r\n  geolocalisation(map) {\r\n    const infoWindow = new window.google.maps.InfoWindow();\r\n    // Try HTML5 geolocation.\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        position => {\r\n          var image = \"icons/placeholder.png\";\r\n          var marker = new window.google.maps.Marker({\r\n            position: new window.google.maps.LatLng(\r\n              position.coords.latitude,\r\n              position.coords.longitude\r\n            ),\r\n            map: map,\r\n            icon: image,\r\n            animation: window.google.maps.Animation.DROP\r\n          });\r\n          infoWindow.open(map);\r\n          map.setCenter(marker.getPosition());\r\n        },\r\n        () => {\r\n          this.handleLocationError(true, infoWindow, map.getCenter(), map);\r\n        }\r\n      );\r\n    } else {\r\n      // Browser doesn't support Geolocation\r\n      this.handleLocationError(false, infoWindow, map.getCenter(), map);\r\n    }\r\n  }\r\n  handleLocationError(browserHasGeolocation, infoWindow, pos, map) {\r\n    infoWindow.setPosition(pos);\r\n    infoWindow.setContent(\r\n      browserHasGeolocation\r\n        ? \"Erreur: Le srvice de géolocalisation n'a pas fonctionné\"\r\n        : \"Erreur: Votre navigateur ne supporte pas la géolocalisation\"\r\n    );\r\n    infoWindow.open(map);\r\n  }\r\n  placesAPI = map => {\r\n    const request = {\r\n      location: map.center,\r\n      radius: \"500\",\r\n      type: [\"restaurant\"]\r\n    };\r\n    const service = new window.google.maps.places.PlacesService(map);\r\n    service.nearbySearch(request, (results, status) => {\r\n      if (status === \"OK\") {\r\n        const restaurants = [...this.state.restaurants];\r\n        results.forEach(result => {\r\n          const restaurant = {\r\n            restaurantName: result.name,\r\n            address: result.vicinity,\r\n            lat: result.geometry.location.lat(),\r\n            long: result.geometry.location.lng(),\r\n            ratings: []\r\n          };\r\n          service.getDetails({ placeId: result.place_id }, (place, status) => {\r\n            if (status === window.google.maps.places.PlacesServiceStatus.OK) {\r\n              const reviews = place.reviews;\r\n              place.reviews &&\r\n                reviews.forEach(review => {\r\n                  restaurant.ratings.push({\r\n                    stars: review.rating,\r\n                    comment: review.text,\r\n                    auteur: review.author_name\r\n                  });\r\n                });\r\n            }\r\n            if (\r\n              restaurants.findIndex(\r\n                resto =>\r\n                  resto.restaurantName === restaurant.restaurantName &&\r\n                  resto.address === restaurant.address\r\n              ) === -1\r\n            ) {\r\n              restaurant.marker = this.placerMarker(restaurant, map);\r\n              restaurant.averageStars = this.averageStars(restaurant);\r\n              restaurants.push(restaurant);\r\n              this.setState({ restaurants });\r\n            }\r\n          });\r\n        });\r\n      }\r\n    });\r\n  };\r\n  placerMarker = (restaurant, map) => {\r\n    const imageResto = \"icons/resto.png\";\r\n    const position = restaurant.long\r\n      ? new window.google.maps.LatLng(restaurant.lat, restaurant.long)\r\n      : restaurant.latLng;\r\n    const marker = new window.google.maps.Marker({\r\n      position,\r\n      map: map,\r\n      icon: imageResto\r\n    });\r\n    marker.addListener(\"click\", () => {\r\n      const restaurant = { ...this.state.restaurant };\r\n      bounce(restaurant.marker, marker);\r\n      restaurant.marker = marker;\r\n      this.setState({ restaurant });\r\n    });\r\n    return marker;\r\n  };\r\n  ajoutMarkerClick = map => {\r\n    window.google.maps.event.addListener(map, \"click\", event => {\r\n      const restaurant = { ...this.state.restaurant };\r\n      restaurant.restaurantName = \"\";\r\n      restaurant.address = \"\";\r\n      restaurant.ratings = [];\r\n      restaurant.placeId = 0;\r\n      restaurant.averageStars = null;\r\n      const marker = this.placerMarker(event, map);\r\n      restaurant.marker = marker;\r\n      this.setState({ restaurant, showAjout: true });\r\n    });\r\n  };\r\n  handleAjoutListe = (restaurant, avis) => {\r\n    const restaurants = [...this.state.restaurants];\r\n    restaurant.restaurantName = _.capitalize(restaurant.restaurantName);\r\n    restaurant.address = _.capitalize(restaurant.address);\r\n    // let marker = this.state.markers[this.state.markers.length - 1];\r\n    //  restaurant.marker = marker;\r\n    this.handleHideModals();\r\n    restaurants.push(restaurant);\r\n    const showAvis = avis ? true : false;\r\n    this.setState({ restaurants, restaurant, showAvis });\r\n  };\r\n  handleChangeAjout = event => {\r\n    const restaurant = { ...this.state.restaurant };\r\n    restaurant[event.target.name] = event.target.value;\r\n    this.setState({ restaurant });\r\n  };\r\n  handleHideAjout = () => {\r\n    this.handleHideModals();\r\n    const restaurant = { ...this.state.restaurant };\r\n    restaurant.marker.setMap(null);\r\n  };\r\n  averageStars(restaurant) {\r\n    let totalNotes = 0;\r\n    const nombreNotes = restaurant.ratings.length;\r\n    if (nombreNotes === 0) return null;\r\n    for (let i = 0; i < nombreNotes; i++) {\r\n      totalNotes += Number(restaurant.ratings[i].stars);\r\n    }\r\n    // On arrondi la moyenne au 0.25 pres\r\n    const moyStars = Math.round(2 * (totalNotes / nombreNotes)) / 2;\r\n    return moyStars;\r\n  }\r\n  handleHideModals = () => {\r\n    this.setState({\r\n      showDescription: false,\r\n      showAvis: false,\r\n      showAjout: false\r\n    });\r\n  };\r\n  handleClick = restaurant => {\r\n    const { restaurant: resto } = this.state;\r\n    bounce(resto.marker, restaurant.marker);\r\n    this.setState({ showDescription: true, restaurant });\r\n  };\r\n  handleOpenRating = restaurant => {\r\n    const rating = { stars: 0, comment: \"\", auteur: \"\" };\r\n    this.setState({\r\n      showAvis: true,\r\n      restaurant,\r\n      rating,\r\n      showDescription: false\r\n    });\r\n  };\r\n  handleStarClick = noteSaisie => {\r\n    const rating = { ...this.state.rating };\r\n    rating.stars = noteSaisie === rating.stars ? rating.stars - 1 : noteSaisie;\r\n    this.setState({ rating });\r\n  };\r\n  handleChangeComment = e => {\r\n    const rating = { ...this.state.rating };\r\n    rating[e.target.name] = e.target.value;\r\n    this.setState({ rating });\r\n  };\r\n  handleRating = () => {\r\n    const rating = { ...this.state.rating };\r\n    const restaurants = [...this.state.restaurants];\r\n    const restaurant = { ...this.state.restaurant };\r\n    const index = restaurants.findIndex(\r\n      resto =>\r\n        resto.restaurantName === restaurant.restaurantName &&\r\n        resto.address === restaurant.address\r\n    );\r\n    rating.comment = _.capitalize(rating.comment);\r\n    rating.auteur = _.capitalize(rating.auteur);\r\n    restaurant.ratings = [rating, ...restaurant.ratings];\r\n    restaurant.averageStars = this.averageStars(restaurant);\r\n    restaurants[index] = restaurant;\r\n    this.handleHideModals();\r\n    this.setState({ rating, restaurants, restaurant });\r\n  };\r\n  render() {\r\n    const {\r\n      restaurant,\r\n      bounds,\r\n      showDescription,\r\n      showAvis,\r\n      showAjout,\r\n      rating\r\n    } = this.state;\r\n    const restaurants = _.orderBy(\r\n      this.state.restaurants,\r\n      [\"restaurantName\"],\r\n      [\"asc\"]\r\n    );\r\n    return (\r\n      <div style={styles.containerStyle}>\r\n        <div style={styles.divMap}>\r\n          <div ref=\"map\" style={styles.mapStyle}>\r\n            I should be a map!\r\n          </div>\r\n        </div>\r\n        <Liste\r\n          restaurants={restaurants}\r\n          restaurantClicked={restaurant}\r\n          bounds={bounds}\r\n          onClick={this.handleClick}\r\n          onOpenRating={this.handleOpenRating}\r\n        />\r\n        <DescriptionModal\r\n          show={showDescription}\r\n          onHide={this.handleHideModals}\r\n          restaurant={restaurant}\r\n          onOpenRating={this.handleOpenRating}\r\n        />\r\n        <AvisModal\r\n          show={showAvis}\r\n          onHide={this.handleHideModals}\r\n          restaurant={restaurant}\r\n          onStarClick={this.handleStarClick}\r\n          rating={rating}\r\n          onRate={this.handleRating}\r\n          onChange={this.handleChangeComment}\r\n        />\r\n        <AjoutModal\r\n          show={showAjout}\r\n          onHide={this.handleHideAjout}\r\n          onAjout={this.handleAjoutListe}\r\n          onChange={this.handleChangeAjout}\r\n          restaurant={restaurant}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst styles = {\r\n  containerStyle: {\r\n    backgroundColor: \"#ef6c00\",\r\n    margin: \"auto\",\r\n    borderRadius: 5,\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    padding: 5,\r\n    height: 600,\r\n    maxWidth: 1050\r\n  },\r\n  divMap: { width: \"75%\", backgroundColor: \"white\", borderRadius: 5 },\r\n  mapStyle: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    border: \"1px solid black\"\r\n  }\r\n};\r\n\r\nexport default Container;\r\n","import React from \"react\";\nimport \"./App.css\";\nimport Header from \"./components/header\";\nimport Container from \"./components/container\";\n\nfunction App() {\n  return (\n    <div className=\"App\" style={{ padding: 10 }}>\n      <Header />\n      <Container />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"bootstrap/dist/css/bootstrap.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}